{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../team.service\";\nimport * as i4 from \"../project.service\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/select-company\"];\n};\nfunction TeamsComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 1);\n    i0.ɵɵtext(1, \"Company\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nconst _c1 = function () {\n  return [\"/user-registry\"];\n};\nfunction TeamsComponent_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 1);\n    i0.ɵɵtext(1, \"Users\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nfunction TeamsComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵtext(1, \"Create a team\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TeamsComponent_div_14_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"div\", 14)(3, \"b\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const member_r6 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(member_r6.profile.firstName);\n  }\n}\nconst _c2 = function (a1) {\n  return [\"/projects\", a1];\n};\nfunction TeamsComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TeamsComponent_div_14_div_8_Template, 5, 1, \"div\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const team_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c2, team_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"# of projects: \", ctx_r3.numberOfProjectsMap.get(team_r4.id), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r4.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", team_r4.teammates);\n  }\n}\nconst _c3 = function () {\n  return [\"/\"];\n};\nconst _c4 = function () {\n  return [\"/teams\"];\n};\nconst _c5 = function () {\n  return [\"/login\"];\n};\nexport class TeamsComponent {\n  constructor(authService, router, teamService, projectService) {\n    this.authService = authService;\n    this.router = router;\n    this.teamService = teamService;\n    this.projectService = projectService;\n    this.teams = [];\n    this.admin = false;\n    this.numberOfProjectsMap = new Map();\n  }\n  ngOnInit() {\n    console.log(\"TEAMS INIT\");\n    this.determineUserRoleAndFetchTeams();\n  }\n  determineUserRoleAndFetchTeams() {\n    this.authService.getSelectedCompanyId().subscribe(companyId => {\n      this.companyId = companyId !== null ? companyId : undefined;\n      this.admin = this.authService.isAdmin();\n      if (!this.admin) {\n        this.fetchTeamsByCompanyId();\n      } else {\n        this.fetchAllTeams();\n      }\n    });\n  }\n  fetchTeamsByCompanyId() {\n    if (!this.companyId) return;\n    this.teamService.getTeamsByCompanyId(this.companyId).subscribe(teams => {\n      this.teams = teams;\n      this.teams.forEach(team => this.fetchAndSetNumberOfProjectsForTeam(team.id));\n    }, error => console.error('Error fetching teams:', error));\n  }\n  fetchAllTeams() {\n    this.teamService.getAllTeams().subscribe(teams => {\n      this.teams = teams;\n      this.teams.forEach(team => this.fetchAndSetNumberOfProjectsForTeam(team.id));\n    }, error => console.error('Error fetching all teams:', error));\n  }\n  fetchAndSetNumberOfProjectsForTeam(teamId) {\n    this.projectService.getProjectsByTeamId(teamId).subscribe(projects => {\n      this.numberOfProjectsMap.set(teamId, projects.length);\n    }, error => console.error(`Error fetching projects for team ${teamId}:`, error));\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n}\nTeamsComponent.ɵfac = function TeamsComponent_Factory(t) {\n  return new (t || TeamsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.TeamService), i0.ɵɵdirectiveInject(i4.ProjectService));\n};\nTeamsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TeamsComponent,\n  selectors: [[\"app-teams\"]],\n  decls: 15,\n  vars: 10,\n  consts: [[1, \"navbar\"], [3, \"routerLink\"], [3, \"routerLink\", 4, \"ngIf\"], [3, \"routerLink\", \"click\"], [1, \"text-center\"], [1, \"button-container\"], [\"routerLink\", \"/create-team\", 4, \"ngIf\"], [\"class\", \"team-container\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/create-team\"], [1, \"team-container\"], [1, \"team\", 3, \"routerLink\"], [\"class\", \"team-member-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"team-member-container\"], [1, \"team-member\"], [1, \"team-member-name\"]],\n  template: function TeamsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"a\", 1);\n      i0.ɵɵtext(3, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, TeamsComponent_a_4_Template, 2, 2, \"a\", 2);\n      i0.ɵɵelementStart(5, \"a\", 1);\n      i0.ɵɵtext(6, \"Teams\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, TeamsComponent_a_7_Template, 2, 2, \"a\", 2);\n      i0.ɵɵelementStart(8, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function TeamsComponent_Template_a_click_8_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(9, \"Logout\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"h1\", 4);\n      i0.ɵɵtext(11, \"Teams\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 5);\n      i0.ɵɵtemplate(13, TeamsComponent_button_13_Template, 2, 0, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, TeamsComponent_div_14_Template, 9, 7, \"div\", 7);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c3));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.admin);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(8, _c4));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.admin);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c5));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.admin);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.teams);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i2.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%], html[_ngcontent-%COMP%] {\\n    margin: 0;\\n    min-height: 100vh;\\n    background-color: #0F0F0F;\\n    font-size: 25px; \\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    border-radius: 5px;\\n    background-color: #005B41;\\n    color: #9EC8B9;\\n    cursor: pointer;\\n    font-size: 16px;\\n    border: none;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n    background-color: #008170;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: 100%;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    margin: 25px;\\n    color: #9EC8B9;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    margin: 20px;\\n    color: white;\\n}\\n\\np[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    margin: 20px;\\n    color: #9EC8B9;\\n}\\n\\n.text-center[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\n.navbar[_ngcontent-%COMP%] {\\n    font-family: Arial, Helvetica, sans-serif;\\n    display: flex;\\n    justify-content: center;\\n    width: 100%;\\n    background-color: #232D3F;\\n    padding: 10px 0;\\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);\\n    margin-bottom: 20px;\\n}\\n\\n.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #9EC8B9;\\n    text-decoration: none;\\n    margin: 0 15px;\\n    font-size: 16px;\\n}\\n\\n#avatar[_ngcontent-%COMP%] {\\n    margin: 20px;\\n    border: 10px solid #d7d7d7;\\n    border-radius: 5px;\\n}\\n\\n#bio[_ngcontent-%COMP%] {\\n    margin-top: 0px;\\n    margin-bottom: 0px;\\n    margin-left: 20px;\\n    margin-right: 20px;\\n}\\n\\n\\n.team[_ngcontent-%COMP%] {\\n    width: 300px;\\n    padding: 20px;\\n    margin: 10px;\\n    background-color: #232D3F;\\n    border: 1px solid #d7d7d7;\\n    border-radius: 10px;\\n    cursor: pointer;\\n    transition: transform 0.3s ease;\\n}\\n\\n.team-container[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    margin: 0;\\n    padding: 0;\\n    display: flex;\\n    flex-wrap: wrap;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.team-member[_ngcontent-%COMP%] {\\n    background-color: #dbdbdb;\\n    border: 1px solid #666666;\\n    border-radius: 10px;\\n    display: inline-block;\\n}\\n\\n.team-member-name[_ngcontent-%COMP%] {\\n    font-family: Verdana, Geneva, sans-serif;\\n    font-size: 12px;\\n    padding: 5px;\\n}\\n\\n.team-member-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap;\\n    flex-direction: row;\\n    display: inline-block;\\n}\\n\\n.team[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-5px);\\n}\\n\\n.team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-family: Verdana, Geneva, sans-serif;\\n    margin: 5px 0;\\n    font-size: 20px;\\n}\\n\\n.team[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    font-family: Verdana, Geneva, sans-serif;\\n    color: #5e5e5e;\\n    margin: 5px 0;\\n    font-size: 16px;\\n}\\n\\n.team[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    margin: 10px 0;\\n    font-size: 14px;\\n}\\n\\n.fade-in[_ngcontent-%COMP%] {\\n    animation: _ngcontent-%COMP%_fadeIn 1s ease-in-out;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n    0% {\\n        opacity: 0;\\n    }\\n\\n    100% {\\n        opacity: 1;\\n    }\\n}\\n\\n.form-container[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n}\\n\\n.form-entry[_ngcontent-%COMP%] {\\n    margin: 20px;\\n    width: calc(100% - 40px);\\n    align-items: center;\\n}\\n\\n.addname-container[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n}\\n\\n.addedname[_ngcontent-%COMP%] {\\n    background-color: #dbdbdb;\\n    border: 1px solid #d7d7d7;\\n    border-radius: 10px;\\n    margin: 0px;\\n    display: inline-block;\\n}\\n\\n.addedname[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin: 0px;\\n    display: inline-block;\\n}\\n\\n.addedname[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGVhbXMvdGVhbXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7SUFFSSxTQUFTO0lBQ1QsaUJBQWlCO0lBQ2pCLHlCQUF5QjtJQUN6QixlQUFlO0FBQ25COztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsY0FBYztJQUNkLGVBQWU7SUFDZixlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLFdBQVc7QUFDZjs7QUFFQTtJQUNJLDhCQUE4QjtJQUM5QixZQUFZO0lBQ1osY0FBYztBQUNsQjs7QUFFQTtJQUNJLDhCQUE4QjtJQUM5QixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQTtJQUNJLDhCQUE4QjtJQUM5QixZQUFZO0lBQ1osY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHlDQUF5QztJQUN6QyxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsZUFBZTtJQUNmLHdDQUF3QztJQUN4QyxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QscUJBQXFCO0lBQ3JCLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLDBCQUEwQjtJQUMxQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7OztBQUdBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLDhCQUE4QjtJQUM5QixTQUFTO0lBQ1QsVUFBVTtJQUNWLGFBQWE7SUFDYixlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUNuQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSx3Q0FBd0M7SUFDeEMsZUFBZTtJQUNmLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSx3Q0FBd0M7SUFDeEMsYUFBYTtJQUNiLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx3Q0FBd0M7SUFDeEMsY0FBYztJQUNkLGFBQWE7SUFDYixlQUFlO0FBQ25COztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0k7UUFDSSxVQUFVO0lBQ2Q7O0lBRUE7UUFDSSxVQUFVO0lBQ2Q7QUFDSjs7QUFFQTtJQUNJLDhCQUE4QjtJQUM5QixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWix3QkFBd0I7SUFDeEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5LFxuaHRtbCB7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwRjBGMEY7XG4gICAgZm9udC1zaXplOiAyNXB4OyBcbn1cblxuYnV0dG9uIHtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDVCNDE7XG4gICAgY29sb3I6ICM5RUM4Qjk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBib3JkZXI6IG5vbmU7XG59XG5cbmJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwODE3MDtcbn1cblxuLmJ1dHRvbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuaDEge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBtYXJnaW46IDI1cHg7XG4gICAgY29sb3I6ICM5RUM4Qjk7XG59XG5cbmgyIHtcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxucCB7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIG1hcmdpbjogMjBweDtcbiAgICBjb2xvcjogIzlFQzhCOTtcbn1cblxuLnRleHQtY2VudGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5uYXZiYXIge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMkQzRjtcbiAgICBwYWRkaW5nOiAxMHB4IDA7XG4gICAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ubmF2YmFyIGEge1xuICAgIGNvbG9yOiAjOUVDOEI5O1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBtYXJnaW46IDAgMTVweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG59XG5cbiNhdmF0YXIge1xuICAgIG1hcmdpbjogMjBweDtcbiAgICBib3JkZXI6IDEwcHggc29saWQgI2Q3ZDdkNztcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbiNiaW8ge1xuICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG5cbi50ZWFtIHtcbiAgICB3aWR0aDogMzAwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMkQzRjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDdkN2Q3O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2U7XG59XG5cbi50ZWFtLWNvbnRhaW5lciB7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnRlYW0tbWVtYmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGJkYmRiO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2NjY2NjY7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi50ZWFtLW1lbWJlci1uYW1lIHtcbiAgICBmb250LWZhbWlseTogVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBwYWRkaW5nOiA1cHg7XG59XG5cbi50ZWFtLW1lbWJlci1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4udGVhbTpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xufVxuXG4udGVhbSBoMiB7XG4gICAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZjtcbiAgICBtYXJnaW46IDVweCAwO1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbn1cblxuLnRlYW0gaDMge1xuICAgIGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWY7XG4gICAgY29sb3I6ICM1ZTVlNWU7XG4gICAgbWFyZ2luOiA1cHggMDtcbiAgICBmb250LXNpemU6IDE2cHg7XG59XG5cbi50ZWFtIHAge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBtYXJnaW46IDEwcHggMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5mYWRlLWluIHtcbiAgICBhbmltYXRpb246IGZhZGVJbiAxcyBlYXNlLWluLW91dDtcbn1cblxuQGtleWZyYW1lcyBmYWRlSW4ge1xuICAgIDAlIHtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5cbiAgICAxMDAlIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG59XG5cbi5mb3JtLWNvbnRhaW5lciB7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZm9ybS1lbnRyeSB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uYWRkbmFtZS1jb250YWluZXIge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmFkZGVkbmFtZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RiZGJkYjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDdkN2Q3O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgbWFyZ2luOiAwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uYWRkZWRuYW1lIHAge1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLmFkZGVkbmFtZSBidXR0b24ge1xuICAgIG1hcmdpbjogMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","TeamsComponent","constructor","authService","router","teamService","projectService","Map","ngOnInit","console","log","determineUserRoleAndFetchTeams","getSelectedCompanyId","subscribe","companyId","undefined","admin","isAdmin","fetchTeamsByCompanyId","fetchAllTeams","getTeamsByCompanyId","teams","forEach","team","fetchAndSetNumberOfProjectsForTeam","id","error","getAllTeams","teamId","getProjectsByTeamId","projects","numberOfProjectsMap","set","length","logout","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/sarthak-p/Desktop/Personal Projects/SpaceFlow/frontend/src/app/teams/teams.component.html","/Users/sarthak-p/Desktop/Personal Projects/SpaceFlow/frontend/src/app/teams/teams.component.ts"],"sourcesContent":["<body>\n    <div class=\"navbar\">\n        <a [routerLink]=\"['/']\">Home</a>\n        <a *ngIf=\"admin\" [routerLink]=\"['/select-company']\">Company</a>\n        <a [routerLink]=\"['/teams']\">Teams</a>\n        <a *ngIf=\"admin\" [routerLink]=\"['/user-registry']\">Users</a>\n        <a [routerLink]=\"['/login']\" (click)=\"logout()\">Logout</a>\n    </div>\n\n    <h1 class=\"text-center\">Teams</h1>\n\n    <div class=\"button-container\">\n        <button *ngIf=\"admin\" routerLink=\"/create-team\">Create a team</button>\n    </div>\n\n     <div class=\"team-container\" *ngFor=\"let team of teams\">\n        <div class=\"team\" [routerLink]=\"['/projects', team.id]\">\n            <h2>{{team.name}}</h2>\n            <h3># of projects: {{ numberOfProjectsMap.get(team.id) }}</h3>\n            <p>{{team.description}}</p>\n            <div class=\"team-member-container\" *ngFor=\"let member of team.teammates\">\n                <div class=\"team-member\">\n                    <div class=\"team-member-name\"> <b>{{member.profile.firstName}}</b> </div>\n                </div>\n            </div>\n        </div>\n    </div> \n\n\n\n</body>","import { Component, OnInit } from '@angular/core';\nimport { TeamService } from '../team.service';\nimport { Team } from '../team.model';\nimport { AuthService } from '../auth.service';\nimport { ProjectService } from '../project.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-teams',\n  templateUrl: './teams.component.html',\n  styleUrls: ['./teams.component.css']\n})\nexport class TeamsComponent implements OnInit {\n  teams: Team[] = [];\n  companyId?: number;\n  admin: boolean = false; \n  numberOfProjectsMap: Map<number, number> = new Map();\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private teamService: TeamService,\n    private projectService: ProjectService\n  ) {}\n\n  ngOnInit(): void {\n    console.log(\"TEAMS INIT\")\n    this.determineUserRoleAndFetchTeams();\n  }\n\n  determineUserRoleAndFetchTeams(): void {\n    this.authService.getSelectedCompanyId().subscribe(companyId => {\n       this.companyId = companyId !== null ? companyId : undefined;\n      this.admin = this.authService.isAdmin(); \n      \n      if (!this.admin) {\n        this.fetchTeamsByCompanyId();\n      } else {\n        this.fetchAllTeams();\n      }\n    });\n  }\n\n  fetchTeamsByCompanyId(): void {\n    if (!this.companyId) return;\n\n    this.teamService.getTeamsByCompanyId(this.companyId).subscribe(\n      teams => {\n        this.teams = teams;\n        this.teams.forEach(team => this.fetchAndSetNumberOfProjectsForTeam(team.id));\n      },\n      error => console.error('Error fetching teams:', error)\n    );\n  }\n\n  fetchAllTeams(): void {\n    this.teamService.getAllTeams().subscribe(\n      teams => {\n        this.teams = teams;\n        this.teams.forEach(team => this.fetchAndSetNumberOfProjectsForTeam(team.id));\n      },\n      error => console.error('Error fetching all teams:', error)\n    );\n  }\n\n  fetchAndSetNumberOfProjectsForTeam(teamId: number): void {\n    this.projectService.getProjectsByTeamId(teamId).subscribe(\n      projects => {\n        this.numberOfProjectsMap.set(teamId, projects.length);\n      },\n      error => console.error(`Error fetching projects for team ${teamId}:`, error)\n    );\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}